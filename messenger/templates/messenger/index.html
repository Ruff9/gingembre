{% extends "base.html" %}
{% load static %}
{% load i18n %}

{% block customStyles %}
    <link rel="stylesheet" type="text/css" href="{% static 'messenger/style/index.css' %}"/>
{% endblock %}

{% block content %}
    <div class="user-index-container">
        <header class="user-index-header">
            <p class="user-index-greeting">{% translate 'Hello' %} {{current_user_name}}</p>
        </header>

        <section class="user-list">
            {% if conversations %}
                {% for data in conversations %}
                    <a href={% url 'conversation' data.conversation_id %} class="user-list-link">
                        <div class="user-link-name">
                            {{data.contact.username}}

                            {% if data.notification_count != 0 %}
                                <div class="notification-container"><p>{{data.notification_count}}</p></div>
                            {% endif %}
                        </div>
                        <svg class="user-link-picto"><use xlink:href="{% static 'messenger/img/next-arrow.svg' %}#picto-next-arrow"></use></svg>
                    </a>
                {% endfor %}
            {% else %}
                <p class="empty-user-list">{% translate 'NoOtherUser' %}</p>
            {% endif %}
        </section>
    </div>
{% endblock %}
